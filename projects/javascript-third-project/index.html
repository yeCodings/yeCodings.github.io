<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS事件流 | yecoding Blog </title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="JS事件流（冒泡、捕获）addEventListener详解">
    
    <link rel="preload" href="/assets/css/0.styles.8f4760b9.css" as="style"><link rel="preload" href="/assets/js/app.910dc115.js" as="script"><link rel="preload" href="/assets/js/5.9cf19b34.js" as="script"><link rel="preload" href="/assets/js/22.c0bf7021.js" as="script"><link rel="preload" href="/assets/js/6.d2ea23d8.js" as="script"><link rel="prefetch" href="/assets/js/10.dcbecad9.js"><link rel="prefetch" href="/assets/js/11.bc878eb5.js"><link rel="prefetch" href="/assets/js/12.7ad4a89b.js"><link rel="prefetch" href="/assets/js/13.c961a1cb.js"><link rel="prefetch" href="/assets/js/14.95c14d5f.js"><link rel="prefetch" href="/assets/js/15.554403c9.js"><link rel="prefetch" href="/assets/js/16.08abd0f0.js"><link rel="prefetch" href="/assets/js/17.b3c10cd1.js"><link rel="prefetch" href="/assets/js/18.6e7e20b1.js"><link rel="prefetch" href="/assets/js/19.d462b7fe.js"><link rel="prefetch" href="/assets/js/20.6f403a75.js"><link rel="prefetch" href="/assets/js/21.8a262424.js"><link rel="prefetch" href="/assets/js/23.243528c8.js"><link rel="prefetch" href="/assets/js/3.70520c45.js"><link rel="prefetch" href="/assets/js/4.5b8d8b22.js"><link rel="prefetch" href="/assets/js/7.b101bcbb.js"><link rel="prefetch" href="/assets/js/8.ab8a61c9.js"><link rel="prefetch" href="/assets/js/9.c8857f5c.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.ff28ef25.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f4760b9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="global-layout d-flex flex-column"><header id="header" class="shadow"><nav class="p-3 d-flex desktop-menu justify-content-between"><div class="d-flex blog-info-wrapper"><a href="/" class="text-decoration-none m-0 router-link-active"><div class="card-img-bg d-inline-block blog-logo"><img src="https://static.oschina.net/uploads/img/201506/29163716_QJtH.gif" height="70px"></div></a> <a href="/" class="blog-title router-link-active"><div class="h4 text-center">
          yecoding Blog 
        </div></a></div> <ul role="menubar" class="d-flex justify-content-center border-0 el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-house"></i>
    Home
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-folder"></i>
    Projects
  </li></ul> <div class="search-wrapper u-px3 d-flex align-items-center"><div aria-haspopup="listbox" role="combobox" aria-owns="el-autocomplete-7245" class="el-autocomplete"><div class="el-input el-input--small"><!----><input type="text" autocomplete="off" valueKey="value" popperClass="components-search" placeholder="Search" fetchSuggestions="function () { [native code] }" debounce="200" placement="bottom-end" popperAppendToBody="true" class="el-input__inner"><!----><!----><!----><!----></div><div role="region" class="el-autocomplete-suggestion el-popper components-search" style="width:;display:none;"><div class="el-scrollbar"><div class="el-autocomplete-suggestion__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-autocomplete-suggestion__list"></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div> <div id="toggle"><div id="top" class="span"></div> <div id="middle" class="span"></div> <div id="bottom" class="span"></div></div></nav> <div class="flex-column align-items-center mobile-menu pb-4"><ul role="menubar" class="d-flex justify-content-center border-0 el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-house"></i>
    Home
  </li><li role="menuitem" tabindex="-1" router="" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-folder"></i>
    Projects
  </li></ul> <div class="search-wrapper u-px3 d-flex align-items-center pt-4"><div aria-haspopup="listbox" role="combobox" aria-owns="el-autocomplete-885" class="el-autocomplete"><div class="el-input el-input--small"><!----><input type="text" autocomplete="off" valueKey="value" popperClass="components-search" placeholder="Search" fetchSuggestions="function () { [native code] }" debounce="200" placement="bottom-end" popperAppendToBody="true" class="el-input__inner"><!----><!----><!----><!----></div><div role="region" class="el-autocomplete-suggestion el-popper components-search" style="width:;display:none;"><div class="el-scrollbar"><div class="el-autocomplete-suggestion__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-autocomplete-suggestion__list"></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div></div></header> <div id="vuperess-theme-blog__post-layout" data-v-27d8ba44><main class="vuepress-blog-theme-content" data-v-27d8ba44><div class="el-card my-4 is-always-shadow" data-v-27d8ba44><!----><div class="el-card__body" style="padding:1rem 2rem;"><div data-v-27d8ba44><h1 class="text-center text-capitalize" data-v-27d8ba44>
          JS事件流
        </h1> <hr data-v-27d8ba44> <p class="text-secondary" data-v-27d8ba44>
          JS事件流（冒泡、捕获）addEventListener详解
        </p> <ul class="languages-list" data-v-27d8ba44><li data-v-27d8ba44>
            JavaScript
          </li><li data-v-27d8ba44>
            JavaScript基础
          </li></ul></div></div></div> <div class="el-card is-always-shadow" data-v-27d8ba44><!----><div class="el-card__body" style="padding:1rem 2rem;"><div class="content__default" data-v-27d8ba44><h2 id=""><a href="#" class="header-anchor">#</a> <img src="http://up.jpgjpg.com/pic/d8/1d/0d/d81d0dd6908b4f5b7f0e9b3f7aaf0bb9.jpg" alt="image"></h2> <h3 id="js事件流-冒泡、捕获-addeventlistener详解"><a href="#js事件流-冒泡、捕获-addeventlistener详解" class="header-anchor">#</a> JS事件流（冒泡、捕获）addEventListener详解</h3> <blockquote><p>前置知识：DOM结构
JS和HTML之间通过事件来进行交互。当文档或者浏览器窗口发生了特殊的交互，就是用监听器来预定事件，以便事件发生时执行响应的代码（观察者模式）。</p></blockquote> <p>事件流</p> <blockquote><p>随着浏览器的发展，浏览器开发团队遇到了一个问题：页面的哪一个部分会拥有某个特定的事件？举例来说，比如纸上有一组同心圆。把手指在同心圆上，那么手指指向的不止是一个圆，而是纸上的所有圆。所以后来浏览器开发团队认为，当你单击了某个按钮，除了单击了这个按钮，也单击了它的容器元素和整个页面。
事件流描述的是从页面中接收事件的顺序。
事件流有两种模式：分别是事件冒泡和事件捕获。</p></blockquote> <p>以下图结构为例来解释事件冒泡和事件捕获
布局图</p> <p><a href="https://upload-images.jianshu.io/upload_images/14847666-8694b6bf99e100b1.PNG" target="_blank" rel="noopener noreferrer">示例图.PNG<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
当我们点击了line-two-center-child这个块元素时。DOM树当中发生的事件流顺序如下图。
<a href="https://upload-images.jianshu.io/upload_images/14847666-3dd45bc27c8d6895.PNG" target="_blank" rel="noopener noreferrer">DOM事件流.PNG<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="事件捕获-event-capture"><a href="#事件捕获-event-capture" class="header-anchor">#</a> 事件捕获（event capture）</h4> <p>不太具体的node应该更早接收到事件，而最具体的node应该最后接收到事件。事件捕获的目的在于在事件到达预定目标之前捕获它。
在上图的布局中，绿色箭头代表的就是事件捕获发生时，DOM树中的node接收到事件的先后顺序。可以看到它是由最外层的document一层一层向内部传递事件。</p> <h4 id="事件冒泡-event-bubble"><a href="#事件冒泡-event-bubble" class="header-anchor">#</a> 事件冒泡（event bubble）</h4> <p>即为事件开始时从最具体的元素慢慢接收，然后逐级向上传播到较为不具体的节点。即为由最深的node向最外围的node扩散。
在上图布局中，红色箭头代表的就是事件捕获发生时，DOM树中的node接收到事件的先后顺序。可以看到它是由最内层的center-child一层一层向内部传递事件。</p> <h4 id="dom事件流"><a href="#dom事件流" class="header-anchor">#</a> DOM事件流</h4> <p>“DOM标准事件流”：包含三个阶段事件捕获阶段、处于目标阶段、事件冒泡阶段。先后顺序是，事件捕获（可以截取事件）=&gt;实际目标接收到事件=&gt;冒泡阶段（可以对这个事件作出响应）</p> <p>在捕获阶段，捕获不会到达具体的目标节点，到达目标节点处理事件被看作是冒泡阶段的一部分。</p> <h5 id="dom0级事件"><a href="#dom0级事件" class="header-anchor">#</a> DOM0级事件</h5> <p>直接指定每个元素上面的事件处理属性。DOM0级方法指定的事件处理方法认为是元素的方法。因此，这个时候事件处理程序是在元素的作用域中运行的。this指向引用当前元素。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//myBtn</span>
<span class="token punctuation">}</span>
</code></pre></div><p>DOM0级事件会在事件流的冒泡阶段被处理。
删除0级事件<code>btn.onclick = null</code></p> <p>DOM2级事件
a<code>ddEventListener('eventName',callback,ifbubble)</code>：三个参数分别是事件名字符串，回调函数，布尔值。第三个参数为<code>true</code>，表示在捕获阶段调用事件处理程序。为<code>false</code>，表示在冒泡阶段调用事件处理。默认是使用冒泡。
<code>removeEventListener()</code>：移除<code>addEventListener</code>添加的事件</p> <p>2级事件和0级事件的区别：2级事件可以添加多个事件处理程序，处理顺序会按照它们的添加顺序触发，而0级事件只有最后一次添加能生效。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//btn点击后输出2</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token comment">// btn点击后先输出1再输出2</span>
</code></pre></div><p>2级事件的问题：如果<code>addEventListener()</code>添加的回调是匿名函数，会无法通过<code>removeEventListener()</code>移除。</p> <div class="language-js extra-class"><pre class="language-js"><code>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
btn<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//无法删除</span>
</code></pre></div><p>因为传入的匿名函数会认为是一个全新的函数。</p> <h4 id="事件对象对象-event"><a href="#事件对象对象-event" class="header-anchor">#</a> 事件对象对象（event）</h4> <p>在触发DOM上的某个事件的时候，会产生一个事件对象event，这个对象中包含着所有与事件有关的信息。</p> <div class="language-js extra-class"><pre class="language-js"><code>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;click&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>；

<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;click me&quot;</span> oclick<span class="token operator">=</span><span class="token string">&quot;alert(event.type)&quot;</span><span class="token operator">&gt;</span>
</code></pre></div><h4 id="event对象的主要成员"><a href="#event对象的主要成员" class="header-anchor">#</a> event对象的主要成员</h4> <table><thead><tr><th>属性方法</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>currentTarget</td> <td>Element</td> <td>其事件处理程序当前正在处理的那个元素，比如，因为子node元素的方法触发了，冒泡到父node的的时候，currentTarget指向父node</td></tr> <tr><td>target</td> <td>Element</td> <td>事件的目标节点，也就是target一般是不变的，在哪个node触发就是哪个node</td></tr> <tr><td>type</td> <td>String</td> <td>被触发的事件类型</td></tr> <tr><td>bubbles</td> <td>Boolean</td> <td>表明事件是否冒泡</td></tr> <tr><td>cancelable</td> <td>Boolean</td> <td>表明是否可以取消事件的默认行文</td></tr> <tr><td>defaultPrevented</td> <td>Boolean</td> <td>为true表明已经调用了preventDefault()</td></tr> <tr><td>eventPhase</td> <td>Interger</td> <td>调用事件处理的阶段，1为捕获，2为处于目标，3为冒泡</td></tr> <tr><td>preventDefault()</td> <td>Function</td> <td>取消事件的默认行为</td></tr> <tr><td>stopPropagation()</td> <td>Function</td> <td>取消事件的进一步捕获或冒泡</td></tr></tbody></table> <blockquote><p>在事件回调方法内部，this始终等于currentTarget。只有在事件处理程序执行期间，event对象才会存在；一旦事件狐狸程序执行完成，event对象就会被销毁。</p></blockquote> <h4 id="事件委托"><a href="#事件委托" class="header-anchor">#</a> 事件委托</h4> <blockquote><p>在js当中，添加到页面上的eventhandler的数量会直接关系到页面的整体运行性能。因为，每个函数都是对象，会占用内存，内存中对象越多性能就越差，其次，必须事先指定所有eventhandler而导致的DOM访问次数，会延迟整个页面的交互就绪时间。
对于eventhandler过多的问题解决方案就是事件委托。</p></blockquote> <p>事件委托：利用了事件冒泡，只指定一个<code>eventhandler</code>就可以管理某一类型的所有事件。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>ul id<span class="token operator">=</span><span class="token string">&quot;list&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>li id<span class="token operator">=</span><span class="token string">'1'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>li id<span class="token operator">=</span><span class="token string">'2'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>li id<span class="token operator">=</span><span class="token string">'3'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
</code></pre></div><p>如果想要给3个li添加事件监听，从事件委托的角度来看，只需要给父元素ul添加监听器，那么3格li上的事件触发的时候，都会冒泡到ul。通过检测target对象（target就是触发事件的最底层对象）上的id可以判断具体是哪个li触发的操作。</p> <p>移除<code>EventHandler</code>
当元素绑定<code>eventhandler</code>时，运行中的浏览器代码与js之间会建立一个连接。连接越多，页面执行越慢。</p> <p>当通过纯粹的DOM操作，如<code>removeChild()</code>和<code>replaceChild()</code>，或者在使用innerHTML替换页面中某一部分，绑定了<code>eventhandler</code>的元素被<code>innerHTML</code>删除了，会导致原来添加到元素中的<code>eventhandler</code>很有可能不被当作垃圾回收。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;myDiv&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;click me&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;myBtn&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
   <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;process..&quot;</span>
<span class="token comment">//myBtn绑定了事件，但是事件执行完被清除掉了，但是onclick绑定的事件还在</span>
   <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>在卸载页面的时候可能存在空事件处理程序。
尽量使用事件委托可以减少事件绑定。</p></div></div></div></main></div> <footer class="footer" data-v-85a2b3d2><div class="footer-left-wrap" data-v-85a2b3d2><ul class="contact" data-v-85a2b3d2><li class="contact-item" data-v-85a2b3d2><a href="https://github.com/yeCodings" target="_blank" rel="noopener noreferrer" class="external" data-v-85a2b3d2><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-85a2b3d2><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-85a2b3d2></path></svg>
          
        </a></li><li class="contact-item" data-v-85a2b3d2><a href="https://instagram.com" target="_blank" rel="noopener noreferrer" class="external" data-v-85a2b3d2><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram" data-v-85a2b3d2><rect x="2" y="2" width="20" height="20" rx="5" ry="5" data-v-85a2b3d2></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" data-v-85a2b3d2></path><line x1="17.5" y1="6.5" x2="17.5" y2="6.5" data-v-85a2b3d2></line></svg>
          
        </a></li><li class="contact-item" data-v-85a2b3d2><a href="https://linkedin.com" target="_blank" rel="noopener noreferrer" class="external" data-v-85a2b3d2><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin" data-v-85a2b3d2><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" data-v-85a2b3d2></path><rect x="2" y="9" width="4" height="12" data-v-85a2b3d2></rect><circle cx="4" cy="4" r="2" data-v-85a2b3d2></circle></svg>
          
        </a></li><li class="contact-item" data-v-85a2b3d2><a href="https://twitter.com" target="_blank" rel="noopener noreferrer" class="external" data-v-85a2b3d2><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-85a2b3d2><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-85a2b3d2></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-85a2b3d2><ul class="copyright" data-v-85a2b3d2><li class="copyright-item" data-v-85a2b3d2><a data-v-85a2b3d2>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer> <!----></div><div class="global-ui"><!----><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div></div></div>
    <script src="/assets/js/app.910dc115.js" defer></script><script src="/assets/js/5.9cf19b34.js" defer></script><script src="/assets/js/22.c0bf7021.js" defer></script><script src="/assets/js/6.d2ea23d8.js" defer></script>
  </body>
</html>
